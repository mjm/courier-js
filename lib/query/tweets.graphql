query UpcomingTweets($cursor: Cursor) {
  allTweets(filter: UPCOMING, last: 10, before: $cursor)
    @connection(key: "upcomingTweets") {
    ...tweetConnectionFields
  }
}

query PastTweets($cursor: Cursor) {
  allTweets(filter: PAST, last: 10, before: $cursor)
    @connection(key: "pastTweets") {
    ...tweetConnectionFields
  }
}

fragment tweetConnectionFields on TweetConnection {
  nodes {
    ...allTweetsFields
  }
  pageInfo {
    hasPreviousPage
    endCursor
  }
}

fragment allTweetsFields on Tweet {
  id
  post {
    id
    url
    publishedAt
    modifiedAt
  }
  body
  mediaURLs
  status
  postedAt
  postedTweetID
}

mutation CancelTweet($id: ID!) {
  cancelTweet(id: $id) {
    id
    status
  }
}

mutation UncancelTweet($id: ID!) {
  uncancelTweet(id: $id) {
    id
    status
  }
}

mutation PostTweet($input: PostTweetInput!) {
  postTweet(input: $input) {
    tweet {
      id
      body
      status
      postedAt
      postedTweetID
    }
  }
}

mutation EditTweet($input: EditTweetInput!) {
  editTweet(input: $input) {
    tweet {
      id
      body
    }
  }
}
