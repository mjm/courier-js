query AllFeeds($cursor: Cursor) {
  allSubscribedFeeds(first: 20, after: $cursor)
    @connection(key: "allSubscribedFeeds") {
    nodes {
      ...allFeedSubscriptionsFields
    }
    pageInfo {
      endCursor
      hasNextPage
    }
  }
}

fragment allFeedSubscriptionsFields on SubscribedFeed {
  id
  feed {
    id
    url
    title
    homePageURL
    refreshedAt
  }
  autopost
}

mutation AddFeed($feed: FeedInput!) {
  addFeed(feed: $feed) {
    ...allFeedSubscriptionsFields
  }
}

mutation RefreshFeed($id: ID!) {
  refreshFeed(id: $id) {
    id
    title
    homePageURL
    refreshedAt
  }
}

mutation DeleteFeed($id: ID!) {
  deleteFeed(id: $id)
}
